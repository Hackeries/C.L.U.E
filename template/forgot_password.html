{% extends 'nav.html' %}
{% load static %}

{% block title %}Forgot Password{% endblock %}

{% block content %}
<style>
    /* Background Styling */
    body {
        background: url("{% static 'img/dept_header.jpg' %}") no-repeat center center fixed;
        background-size: cover;
        backdrop-filter: blur(8px); /* Blurry effect */
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
    }

    /* Wrapper to Center Form */
    .form-wrapper {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-grow: 1; /* Pushes the form between the nav and footer */
        padding: 50px 0; /* Adds space on top and bottom */
    }

    /* Centered Form Styling */
    .reset-container {
        width: 350px;
        background: rgba(255, 255, 255, 0.9); /* Semi-transparent white */
        border-radius: 10px;
        box-shadow: 5px 5px 15px rgba(0,0,0,0.2);
        padding: 25px;
        text-align: center;
        position: relative;
    }

    /* Close Button Styling */
    .close-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 22px;
        font-weight: bold;
        color: #333;
        cursor: pointer;
    }

    /* Form Button Styling */
    .reset-btn {
        width: 100%;
        height: 40px;
        border: none;
        background: #2691d9;
        border-radius: 20px;
        font-size: 16px;
        color: white;
        font-weight: bold;
        cursor: pointer;
        outline: none;
        transition: 0.3s;
    }

    .reset-btn:hover {
        background: #187bcd;
    }
</style>

<!-- Wrapper to ensure form stays between navbar and footer -->
<div class="form-wrapper">
    <div class="reset-container">
        
        <!-- Close Button -->
        {% comment %} <span onclick="window.location.href='{% url 'home' %}'" class="close-btn">&times;</span>{% endcomment %}

        <!-- Bold Reset Password -->
        <h1 style="font-size: 22px; font-weight: bold; padding-bottom: 10px; border-bottom: 1px solid silver;">Reset your Password</h1> 

        {% if messages %}
            {% for message in messages %}
                <h4 style="font-size: 14px; padding: 8px; text-align: center; color: {% if message.tags == 'error' %}firebrick{% else %}dodgerblue{% endif %};">
                    {{ message }}
                </h4>
            {% endfor %}
        {% endif %}

        <form method="POST">
            {% csrf_token %}

            <!-- Centered Logo -->
            <img src="{% static 'img/Banasthali_Vidyapeeth_Logo.png' %}" 
                 alt="Banasthali Logo" 
                 style="width: 90px; height: 90px; border-radius: 50%; object-fit: cover; border: 2px solid #2691d9; display: block; margin: 10px auto;">

            <div style="position: relative; border-bottom: 2px solid #adadad; margin: 20px 0;">
                <input type="email" required name="email" 
                    style="width: 100%; padding: 8px; font-size: 14px; border: none; background: none; outline: none;">
                <label style="position: absolute; top: 50%; left: 5px; color: #adadad; transform: translateY(-50%); font-size: 14px; pointer-events: none; transition: .3s;">Email</label>
            </div>

            <input type="submit" value="Reset Password" class="reset-btn">

            <div style="text-align: center; font-size: 14px; margin-top: 10px;">
                Not a member? <a href="{% url 'register' %}" style="color: #2691d9; text-decoration: none; font-weight: bold;">Signup</a>
                <p>Remember your Password? <a href="{% url 'login' %}" style="color: #2691d9; text-decoration: none; font-weight: bold;">Login</a></p> 
            </div>
        </form>
    </div>
</div>

{% endblock %}












{% comment %} 
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    {% load static %}
    <meta charset="utf-8">
    <title>Forgot Password</title>
    <link rel="stylesheet" href="{% static 'css/signupStyle.css' %}">
  </head>
  <body>
    <div class="center">
      <h1>Reset Password</h1>
      {% if messages %}
          {% for message in messages %}
              {% if message.tags == 'error' %}
                  <center><h4 style="color: firebrick;">{{message}}</h4></center>
              {% else %}
                  <center><h4 style="color: dodgerblue;">{{message}}</h4></center>
              {% endif %}
          {% endfor %}
      {% endif %}
    
      <div class="signup_link"></div>
      
      <form method="POST">
        
        <div class="imgcontainer">
            <span onclick="closeModal()" class="close" title="Close">&times;</span>
            <img src="{% static 'img/Banasthali_Vidyapeeth_Logo.png' %}" alt="Avatar" class="avatar">
          </div>
        {% csrf_token %}

        <div class="txt_field">
          <input type="email" required name="email">
          <span></span>
          <label>Email</label>
        </div>
        
        <input type="submit" value="Reset Password">
        <div class="signup_link">
          Not a member? <a href="{% url 'register' %}">Signup</a>
          <p>Remember your Password? <a href="{% url 'login' %}">Login</a></p> 
        </div>
      </form>
    </div>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
        document.querySelector(".close").addEventListener("click", function () {
            window.location.href = "{% url 'home' %}"; // Replace 'home' with your actual URL name
        });
    });
</script>

  </body>
</html>  {% endcomment %}