{% extends 'nav.html' %}
{% load static %}

{% block content %}

<!-- Hero Slideshow Section -->
<section class="relative w-full h-[80vh] md:h-[70vh] lg:h-[80vh] overflow-hidden" data-aos="fade-in">
    <div id="slideshow" class="absolute top-0 left-0 flex w-full h-full transition-transform duration-1000 ease-in-out">
        <div class="w-full h-full flex-shrink-0 relative">
            <img src="{% static 'img/event_image2.jpg' %}" class="w-full h-full object-cover" alt="Campus Event">
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"></div>
        </div>
        <div class="w-full h-full flex-shrink-0 relative">
            <img src="{% static 'img/event_image3.jpg' %}" class="w-full h-full object-cover" alt="Campus Event">
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"></div>
        </div>
        <div class="w-full h-full flex-shrink-0 relative">
            <img src="{% static 'img/event_image4.jpg' %}" class="w-full h-full object-cover" alt="Campus Event">
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"></div>
        </div>
        <div class="w-full h-full flex-shrink-0 relative">
            <img src="{% static 'img/event_image5.jpg' %}" class="w-full h-full object-cover" alt="Campus Event">
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"></div>
        </div>
        <div class="w-full h-full flex-shrink-0 relative">
            <img src="{% static 'img/event_image6.jpg' %}" class="w-full h-full object-cover" alt="Campus Event">
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"></div>
        </div>
    </div>
    
    <!-- Hero Content Overlay -->
    <div class="absolute inset-0 flex items-center justify-center text-center z-10 px-4">
        <div class="max-w-4xl" data-aos="fade-up" data-aos-delay="200">
            <h1 class="text-4xl md:text-6xl font-bold text-white mb-4 font-display">
                Welcome to <span class="gradient-text">C.L.U.E</span>
            </h1>
            <p class="text-lg md:text-xl text-gray-200 mb-8">
                Your gateway to campus events, clubs, and activities at Banasthali Vidyapith
            </p>
            <div class="flex flex-wrap gap-4 justify-center">
                <a href="{% url 'clubs' %}" class="inline-flex items-center space-x-2 bg-gradient-to-r from-green-400 to-blue-500 hover:from-green-500 hover:to-blue-600 px-8 py-3 rounded-full text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200">
                    <i data-lucide="users" class="w-5 h-5"></i>
                    <span>Explore Clubs</span>
                </a>
                <a href="{% url 'calendar_view' %}" class="inline-flex items-center space-x-2 bg-white bg-opacity-20 hover:bg-opacity-30 backdrop-blur-sm px-8 py-3 rounded-full text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200">
                    <i data-lucide="calendar" class="w-5 h-5"></i>
                    <span>View Events</span>
                </a>
            </div>
        </div>
    </div>
    
    <!-- Navigation Buttons -->
    <button id="prev" class="absolute top-1/2 left-4 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white w-12 h-12 rounded-full flex items-center justify-center transition-all duration-200 z-10">
        <i data-lucide="chevron-left" class="w-6 h-6"></i>
    </button>
    <button id="next" class="absolute top-1/2 right-4 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white w-12 h-12 rounded-full flex items-center justify-center transition-all duration-200 z-10">
        <i data-lucide="chevron-right" class="w-6 h-6"></i>
    </button>
    
    <!-- Slide Indicators -->
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-2 z-10">
        <span class="indicator w-2 h-2 rounded-full bg-white"></span>
        <span class="indicator w-2 h-2 rounded-full bg-white/50"></span>
        <span class="indicator w-2 h-2 rounded-full bg-white/50"></span>
        <span class="indicator w-2 h-2 rounded-full bg-white/50"></span>
        <span class="indicator w-2 h-2 rounded-full bg-white/50"></span>
    </div>
</section>

<!-- Latest Updates Section -->
<section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
    <div class="text-center mb-12" data-aos="fade-up">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 font-display mb-4">
            Latest from Campus
        </h2>
        <p class="text-gray-600 max-w-2xl mx-auto">
            Stay updated with the latest news, events, and activities happening across campus
        </p>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        
        <!-- Latest News/Notices Card -->
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300" data-aos="fade-up" data-aos-delay="100">
            <div class="bg-gradient-to-r from-yellow-400 to-orange-500 p-6">
                <div class="flex items-center space-x-3 text-white">
                    <div class="w-12 h-12 rounded-full bg-white/20 flex items-center justify-center">
                        <i data-lucide="newspaper" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold font-display">Latest News</h3>
                </div>
            </div>
            <div class="p-6 h-72 overflow-hidden">
                <div class="space-y-4 h-full overflow-y-auto" id="news-scroll">
                    {% for notice in notices %}
                        <div class="border-l-4 border-yellow-400 pl-4 py-2 hover:bg-gray-50 transition-colors rounded-r-lg">
                            <h4 class="font-semibold text-gray-900 mb-1">{{ notice.title }}</h4>
                            <p class="text-sm text-gray-500 mb-2">
                                <i data-lucide="calendar-days" class="w-3 h-3 inline"></i>
                                {{ notice.date_posted|date:"d F Y" }}
                            </p>
                            <p class="text-sm text-gray-600">{{ notice.description|truncatechars:100 }}</p>
                        </div>
                    {% empty %}
                        <div class="text-center text-gray-500 py-8">
                            <i data-lucide="info" class="w-12 h-12 mx-auto mb-2 opacity-50"></i>
                            <p>No notices available</p>
                        </div>
                    {% endfor %}
                </div>
            </div>
            <div class="px-6 pb-6">
                <a href="#" class="block text-center bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 text-white px-4 py-2 rounded-lg font-semibold transition-all duration-200">
                    View All
                </a>
            </div>
        </div>
        
        <!-- Department Events Card -->
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300" data-aos="fade-up" data-aos-delay="200">
            <div class="bg-gradient-to-r from-blue-500 to-purple-600 p-6">
                <div class="flex items-center space-x-3 text-white">
                    <div class="w-12 h-12 rounded-full bg-white/20 flex items-center justify-center">
                        <i data-lucide="building" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold font-display">From Departments</h3>
                </div>
            </div>
            <div class="p-6 h-72 overflow-hidden">
                <div class="space-y-4 h-full overflow-y-auto" id="dept-scroll">
                    {% for d_event in d_events %}
                        <div class="border-l-4 border-blue-500 pl-4 py-2 hover:bg-gray-50 transition-colors rounded-r-lg">
                            <h4 class="font-semibold text-gray-900 mb-1">{{ d_event.event_name }}</h4>
                            <p class="text-sm text-gray-600 flex items-center">
                                <i data-lucide="map-pin" class="w-3 h-3 mr-1"></i>
                                {{ d_event.event_venue }}
                            </p>
                        </div>
                    {% empty %}
                        <div class="text-center text-gray-500 py-8">
                            <i data-lucide="info" class="w-12 h-12 mx-auto mb-2 opacity-50"></i>
                            <p>No department events</p>
                        </div>
                    {% endfor %}
                </div>
            </div>
            <div class="px-6 pb-6">
                <a href="{% url 'dept' %}" class="block text-center bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-4 py-2 rounded-lg font-semibold transition-all duration-200">
                    View All
                </a>
            </div>
        </div>
        
        <!-- Club Events Card -->
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300" data-aos="fade-up" data-aos-delay="300">
            <div class="bg-gradient-to-r from-green-400 to-cyan-500 p-6">
                <div class="flex items-center space-x-3 text-white">
                    <div class="w-12 h-12 rounded-full bg-white/20 flex items-center justify-center">
                        <i data-lucide="users" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold font-display">From Clubs</h3>
                </div>
            </div>
            <div class="p-6 h-72 overflow-hidden">
                <div class="space-y-4 h-full overflow-y-auto" id="club-scroll">
                    {% for event in events %}
                        <div class="border-l-4 border-green-400 pl-4 py-2 hover:bg-gray-50 transition-colors rounded-r-lg">
                            <h4 class="font-semibold text-gray-900 mb-1">{{ event.event_name }}</h4>
                            <p class="text-sm text-gray-500 flex items-center">
                                <i data-lucide="calendar" class="w-3 h-3 mr-1"></i>
                                {{ event.event_start_date|date:"d F Y" }}
                            </p>
                        </div>
                    {% empty %}
                        <div class="text-center text-gray-500 py-8">
                            <i data-lucide="info" class="w-12 h-12 mx-auto mb-2 opacity-50"></i>
                            <p>No club events</p>
                        </div>
                    {% endfor %}
                </div>
            </div>
            <div class="px-6 pb-6">
                <a href="{% url 'clubs' %}" class="block text-center bg-gradient-to-r from-green-400 to-cyan-500 hover:from-green-500 hover:to-cyan-600 text-white px-4 py-2 rounded-lg font-semibold transition-all duration-200">
                    View All
                </a>
            </div>
        </div>
        
    </div>
</section>

<!-- FAQ Section -->
<section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16" data-aos="fade-up">
    <div class="bg-white rounded-2xl shadow-lg p-8">
        <button id="toggle-faq" class="w-full flex items-center justify-between text-left text-2xl font-bold text-gray-800 mb-6 pb-6 border-b hover:text-[#132E57] transition-colors">
            <span class="flex items-center space-x-3">
                <i data-lucide="help-circle" class="w-8 h-8"></i>
                <span class="font-display">Frequently Asked Questions</span>
            </span>
            <i data-lucide="chevron-down" class="w-6 h-6 transition-transform duration-200" id="faq-icon"></i>
        </button>

        <div id="faq-content" class="hidden space-y-4">
            <details class="group border border-gray-200 rounded-xl overflow-hidden hover:border-[#132E57] transition-colors">
                <summary class="px-6 py-4 font-medium text-gray-700 cursor-pointer hover:bg-gray-50 flex items-center justify-between">
                    <span class="flex items-center space-x-3">
                        <i data-lucide="circle-help" class="w-5 h-5 text-[#132E57]"></i>
                        <span>How many clubs are in Banasthali?</span>
                    </span>
                    <i data-lucide="plus" class="w-5 h-5 group-open:rotate-45 transition-transform"></i>
                </summary>
                <div class="px-6 py-4 text-gray-600 bg-gray-50">
                    There is not a specific count as every department has several clubs.
                </div>
            </details>

            <details class="group border border-gray-200 rounded-xl overflow-hidden hover:border-[#132E57] transition-colors">
                <summary class="px-6 py-4 font-medium text-gray-700 cursor-pointer hover:bg-gray-50 flex items-center justify-between">
                    <span class="flex items-center space-x-3">
                        <i data-lucide="circle-help" class="w-5 h-5 text-[#132E57]"></i>
                        <span>How can I apply for an event?</span>
                    </span>
                    <i data-lucide="plus" class="w-5 h-5 group-open:rotate-45 transition-transform"></i>
                </summary>
                <div class="px-6 py-4 text-gray-600 bg-gray-50">
                    You can apply by logging in and creating your profile.
                </div>
            </details>

            <details class="group border border-gray-200 rounded-xl overflow-hidden hover:border-[#132E57] transition-colors">
                <summary class="px-6 py-4 font-medium text-gray-700 cursor-pointer hover:bg-gray-50 flex items-center justify-between">
                    <span class="flex items-center space-x-3">
                        <i data-lucide="circle-help" class="w-5 h-5 text-[#132E57]"></i>
                        <span>Is there any fee to attend events?</span>
                    </span>
                    <i data-lucide="plus" class="w-5 h-5 group-open:rotate-45 transition-transform"></i>
                </summary>
                <div class="px-6 py-4 text-gray-600 bg-gray-50">
                    Fee structure of each club is decided by the type of events that are hosted by them.
                </div>
            </details>

            <details class="group border border-gray-200 rounded-xl overflow-hidden hover:border-[#132E57] transition-colors">
                <summary class="px-6 py-4 font-medium text-gray-700 cursor-pointer hover:bg-gray-50 flex items-center justify-between">
                    <span class="flex items-center space-x-3">
                        <i data-lucide="circle-help" class="w-5 h-5 text-[#132E57]"></i>
                        <span>Can I be a part of any clubs?</span>
                    </span>
                    <i data-lucide="plus" class="w-5 h-5 group-open:rotate-45 transition-transform"></i>
                </summary>
                <div class="px-6 py-4 text-gray-600 bg-gray-50">
                    Yes, you can be part of a club by contacting the club leads.
                </div>
            </details>

            <details class="group border border-gray-200 rounded-xl overflow-hidden hover:border-[#132E57] transition-colors">
                <summary class="px-6 py-4 font-medium text-gray-700 cursor-pointer hover:bg-gray-50 flex items-center justify-between">
                    <span class="flex items-center space-x-3">
                        <i data-lucide="circle-help" class="w-5 h-5 text-[#132E57]"></i>
                        <span>Can I have the email of club leads?</span>
                    </span>
                    <i data-lucide="plus" class="w-5 h-5 group-open:rotate-45 transition-transform"></i>
                </summary>
                <div class="px-6 py-4 text-gray-600 bg-gray-50">
                    Yes, emails of each club's leads are mentioned in their club profiles.
                </div>
            </details>

            <details class="group border border-gray-200 rounded-xl overflow-hidden hover:border-[#132E57] transition-colors">
                <summary class="px-6 py-4 font-medium text-gray-700 cursor-pointer hover:bg-gray-50 flex items-center justify-between">
                    <span class="flex items-center space-x-3">
                        <i data-lucide="circle-help" class="w-5 h-5 text-[#132E57]"></i>
                        <span>What is the C.L.U.E. and its motto?</span>
                    </span>
                    <i data-lucide="plus" class="w-5 h-5 group-open:rotate-45 transition-transform"></i>
                </summary>
                <div class="px-6 py-4 text-gray-600 bg-gray-50">
                    C.L.U.E stands for "College Linkup of Events," where every event related to departments and their clubs is posted. Students of Banasthali Vidyapith can easily be notified about events and club activities, which increase student participation and encourage overall development.
                </div>
            </details>
        </div>
    </div>
</section>

{% endblock %}

{% block extra_js %}
<script>
    // Slideshow functionality
    document.addEventListener("DOMContentLoaded", () => {
        const slideshow = document.getElementById('slideshow');
        const slides = slideshow.children;
        const indicators = document.querySelectorAll('.indicator');
        const prevButton = document.getElementById('prev');
        const nextButton = document.getElementById('next');
        
        let currentIndex = 0;
        
        function updateSlidePosition() {
            slideshow.style.transform = `translateX(-${currentIndex * 100}%)`;
            indicators.forEach((ind, idx) => {
                ind.style.opacity = idx === currentIndex ? '1' : '0.5';
            });
        }
        
        prevButton.addEventListener('click', () => {
            currentIndex = (currentIndex > 0) ? currentIndex - 1 : slides.length - 1;
            updateSlidePosition();
        });
        
        nextButton.addEventListener('click', () => {
            currentIndex = (currentIndex < slides.length - 1) ? currentIndex + 1 : 0;
            updateSlidePosition();
        });
        
        // Auto-advance slides
        setInterval(() => {
            currentIndex = (currentIndex < slides.length - 1) ? currentIndex + 1 : 0;
            updateSlidePosition();
        }, 5000);
        
        // FAQ Toggle
        document.getElementById("toggle-faq").addEventListener("click", function () {
            const faqContent = document.getElementById("faq-content");
            const faqIcon = document.getElementById("faq-icon");
            
            if (faqContent.classList.contains("hidden")) {
                faqContent.classList.remove("hidden");
                faqIcon.style.transform = "rotate(180deg)";
            } else {
                faqContent.classList.add("hidden");
                faqIcon.style.transform = "rotate(0deg)";
            }
        });
        
        // Initialize Lucide icons after content loads
        setTimeout(() => {
            lucide.createIcons();
        }, 100);
    });
</script>
{% endblock %}
